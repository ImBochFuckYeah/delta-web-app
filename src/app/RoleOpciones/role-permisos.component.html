<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2>Permisos del Rol: {{roleNombre}}</h2>
    <button class="btn btn-secondary" (click)="volver()">Volver</button>
  </div>

  <div *ngIf="loading" class="text-center">
    <div class="spinner-border" role="status">
      <span class="visually-hidden">Cargando...</span>
    </div>
  </div>

  <div *ngIf="!loading && permisos.length === 0" class="alert alert-info">
    No se encontraron opciones/configuraciones para este rol.
  </div>

  <div *ngIf="!loading && permisos.length > 0">
    <div class="table-responsive">
      <table class="table table-bordered table-hover">
        <thead class="table-dark">
          <tr>
            <th>Opci√≥n</th>
            <th class="text-center">Alta</th>
            <th class="text-center">Baja</th>
            <th class="text-center">Cambio</th>
            <th class="text-center">Imprimir</th>
            <th class="text-center">Exportar</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let permiso of permisos">
            <td>{{permiso.NombreOpcion}}</td>
            <td class="text-center">
              <input type="checkbox" [(ngModel)]="permiso.Alta">
            </td>
            <td class="text-center">
              <input type="checkbox" [(ngModel)]="permiso.Baja">
            </td>
            <td class="text-center">
              <input type="checkbox" [(ngModel)]="permiso.Cambio">
            </td>
            <td class="text-center">
              <input type="checkbox" [(ngModel)]="permiso.Imprimir">
            </td>
            <td class="text-center">
              <input type="checkbox" [(ngModel)]="permiso.Exportar">
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="text-end mt-3">
      <button class="btn btn-primary" (click)="guardarPermisos()" [disabled]="saving">
        <span *ngIf="saving" class="spinner-border spinner-border-sm me-2"></span>
        Guardar Permisos
      </button>
    </div>
  </div>
</div>
